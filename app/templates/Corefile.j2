{# CoreDNS Configuration File #}
{# Generated by CoreDNS Manager #}
{# Generated at: {{ generated_at }} #}

{% for zone in zones %}
{{ zone.name }} {
    hosts {
        {% for record in zone.records %}
        {{ record.ip_address }} {{ record.hostname }}.{{ zone.name }}
        {% endfor %}
        fallthrough
    }
    log
    errors
}

{% endfor %}
. {
    forward . {{ primary_dns }}{% if secondary_dns %} {{ secondary_dns }}{% endif %}
    
    log
    errors
    cache 30
}
